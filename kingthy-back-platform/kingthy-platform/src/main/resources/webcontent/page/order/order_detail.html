<!--_meta 作为公共模版分离出去-->
<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <link rel="Bookmark" href="../../favicon.ico">
    <link rel="Shortcut Icon" href="../../favicon.ico"/>
    <link rel="stylesheet" type="text/css" href="../../css/h-ui/css/H-ui.css"/>
    <link rel="stylesheet" type="text/css" href="../../css/plugins/sweetalert/sweetalert.css"/>
    <title>发票详情</title>
</head>
<body>
<form class="page-container" id="myform">
    <div class="form form-horizontal" id="app">
        <div class="row cl">
            <strong class="form-label col-xs-2 col-sm-1">基本信息</strong>
        </div>
        <div class="line"></div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">订单编号：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.orderSn}}</label>
            </div>
            <label class="form-label col-xs-2 col-sm-1">订单状态：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.status}}</label>
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">下单用户：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.memberName}}</label>
            </div>
            <label class="form-label col-xs-2 col-sm-1">下单时间：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.createDate}}</label>
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">付款方式：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.paymentMethodType}}</label>
            </div>
            <label class="form-label col-xs-2 col-sm-1">支付时间：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.paymentDate}}</label>
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">配送方式：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.shippingMethodName}}</label>
            </div>
            <label class="form-label col-xs-2 col-sm-1">发货时间：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.deliveryDate}}</label>
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">运单号：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.shippingNumber}}</label>
            </div>
            <label class="form-label col-xs-2 col-sm-1">客户备注：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.consignee}}</label>
            </div>
        </div>
        <div class="row cl">
            <strong class="form-label col-xs-2 col-sm-1">收货人信息</strong>
        </div>
        <div class="line"></div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">收货人：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.consignee}}</label>
            </div>
            <label class="form-label col-xs-2 col-sm-1">联系电话：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.phone}}</label>
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">收货地址：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.address}}</label>
            </div>
        </div>
        <div class="row cl">
            <strong class="form-label col-xs-2 col-sm-1">其它信息</strong>
        </div>
        <div class="line"></div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">是否需要发票：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.invoice?"是":"否"}}</label>
            </div>
            <label class="form-label col-xs-2 col-sm-1">发票类型：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.invoiceTitle}}</label>
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-xs-2 col-sm-1">发票抬头：</label>
            <div class="formControls col-xs-3 col-sm-2">
                <label>{{orderInfo.invoiceTitle}}</label>
            </div>
        </div>
        <div class="row cl">
            <strong class="form-label col-xs-2 col-sm-1">商品信息</strong>
        </div>
        <div class="line"></div>
        <div class="row cl">
            <div style="padding-left: 15px;">
                <table border="1px" style="text-align: center;border-color: #eee">
                    <thead>
                    <th style="text-align: center"><strong>商品名称</strong></th>
                    <th style="text-align: center"><strong>设计师</strong></th>
                    <th style="text-align: center"><strong>价格</strong></th>
                    <th style="text-align: center"><strong>数量</strong></th>
                    <th style="text-align: center"><strong>共计</strong></th>
                    <th style="text-align: center"><strong>体型数据</strong></th>
                    <th style="text-align: center"><strong>订单状态</strong></th>
                    </thead>
                    <tbody>
                    <td>{{orderInfo.goodsName}}</td>
                    <td>{{orderInfo.desinger}}</td>
                    <td>{{orderInfo.price}}</td>
                    <td>{{orderInfo.quantity}}</td>
                    <td>{{orderInfo.price*orderInfo.quantity}}</td>
                    <td>{{orderInfo.figureName}}</td>
                    <td>{{orderInfo.status}}</td>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row cl">
            <strong class="form-label col-xs-2 col-sm-1">收款信息</strong>
        </div>
        <div class="line"></div>
        <div class="row cl">
            <div style="padding-left: 15px;">
                <table border="1px" style="text-align: center;border-color: #eee">
                    <thead>
                    <th style="text-align: center"><strong>类型</strong></th>
                    <th style="text-align: center"><strong>金额</strong></th>
                    <th style="text-align: center"><strong>支付方式</strong></th>
                    <th style="text-align: center"><strong>账户信息</strong></th>
                    <th style="text-align: center"><strong>支付状态</strong></th>
                    <th style="text-align: center"><strong>时间</strong></th>
                    </thead>
                    <tbody>
                    <td>收款</td>
                    <td>{{orderInfo.amount}}</td>
                    <td>{{orderInfo.paymentMethodType}}</td>
                    <td></td>
                    <td>{{orderInfo.paymentDate==''?'未支付':'已支付'}}</td>
                    <td>{{orderInfo.paymentDate}}</td>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row cl">
            <strong class="form-label col-xs-2 col-sm-1">订单记录</strong>
        </div>
        <div class="line"></div>
        <div class="row cl">
            <div style="padding-left: 15px;">
                <table border="1px" style="text-align: center;border-color: #eee">
                    <thead>
                    <!--<th style="text-align: center"><strong>类型</strong></th>-->
                    <th style="text-align: center"><strong>人员</strong></th>
                    <th style="text-align: center"><strong>时间</strong></th>
                    <th style="text-align: center"><strong>内容</strong></th>
                    </thead>
                    <tbody>
                    <tr v-for="log in orderLog">
                        <!--<td></td>-->
                        <td>{{log.userName}}</td>
                        <td>{{log.createDate}}</td>
                        <td>{{log.content}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--<div class="row cl">
            <strong class="form-label col-xs-2 col-sm-1">订单操作</strong>
        </div>
        <div class="line"></div>
        <div class="row cl" style="padding-left: 20px">
            <input type="button" value="同意退单" class="btn btn-success"/>
            <input type="button" value="驳回退单" class="btn btn-success"/>
            <input type="button" value="取消" class="btn btn-success"/>
        </div>-->
    </div>
</form>

<!--_footer 作为公共模版分离出去-->
<script type="text/javascript" src="../../js/base.js"></script>
<script type="text/javascript" src="../../plugins/jquery.validation/jquery.validate.min.js"></script>
<script type="text/javascript" src="../../plugins/jquery.validation/messages_zh.min.js"></script>
<script type="text/javascript">
    $('#myform').validate();
    var orderSn = getUrlParmsByName("orderSn");
    var isEdit = getUrlParmsByName("isEdit");
    var vm = new Vue({
        el: "#app",
        data: {
            "orderLog": [],
            "orderInfo": {
                "orderSn": "",
                "status": "",
                "memberName": "",
                "createDate": "",
                "paymentMethodType": "",
                "paymentDate": "",
                "shippingMethodName": "",
                "deliveryDate": "",
                "shippingNumber": "",
                "consignee": "",
                "phone": "",
                "areaName": "",
                "address": "",
                "invoiceTitle": "",
                "memo": "",
                "goodsName": "",
                "price": "",
                "quantity": "",
                "amount": "",
                "figureName": "",
                "desinger": "",
                "invoice": ""
            }
        },
        created: function () {
            if (orderSn)
                axios.get(zmme + "/orderItem/show/" + orderSn).then(function (response) {
                        var result = response.data;
                        if (result.code == 0) {
                            vm.orderLog = result.data.orderLog;
                            vm.orderInfo = result.data.orderInfo;
                            switch (vm.orderInfo.status) {
                                case 1: vm.orderInfo.status = "生产中";break;
                                case 2: vm.orderInfo.status = "待发货";break;
                                case 3: vm.orderInfo.status = "待签收";break;
                                case 4: vm.orderInfo.status = "待评价";break;
                                case 5: vm.orderInfo.status = "已取消";break;
                                case 6: vm.orderInfo.status = "待退单";break;
                                case 7: vm.orderInfo.status = "已完成";break;
                                default: vm.orderInfo.status = "代付款";
                            }
                            /* 0:支付宝 1:微信 2:银联 3:QQ钱包 4:余额*/
                            switch (vm.orderInfo.paymentMethodType) {
                                case 1: vm.orderInfo.paymentMethodType = "微信";break;
                                case 2: vm.orderInfo.paymentMethodType = "银联";break;
                                case 3: vm.orderInfo.paymentMethodType = "QQ钱包";break;
                                case 4: vm.orderInfo.paymentMethodType = "余额";break;
                                default: vm.orderInfo.paymentMethodType = "支付宝";
                            }
                        } else {
                            swal("加载数据错误！", result.message, "error");
                        }
                    }
                ).catch(function (response) {

                })
        },
        methods: {
            reply: function () {
                if ($('#myform').valid())
                    axios.post(zmme + "/reply/create", {
                        buyersUuid: vm.data.uuid,
                        content: vm.data.reply,
                        memberUuid: memberUuid
                    }).then(function (response) {
                        var result = response.data;
                        if (result.code == 0) {
                            swal({title: "回复成功", text: "", type: "success"}, function () {
                                layer_close();
                            })
                        } else {
                            swal("回复失败！", result.message, "error");
                        }
                    }).catch(function (response) {
                        swal("请求数据错误！", response.data, "error");
                    })
            }
        }

    })
</script>
<!--请在下方写此页面业务相关的脚本-->
<!--/请在上方写此页面业务相关的脚本-->
</body>
</html>