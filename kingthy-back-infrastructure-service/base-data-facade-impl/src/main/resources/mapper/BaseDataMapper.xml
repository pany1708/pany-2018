<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
<mapper namespace="com.kingthy.mapper.BaseDataMapper">

    <cache/>
    <select id="queryExchangeReason" resultType="java.lang.String">
        SELECT a.class_name name FROM base_data a WHERE a.type = 5 AND a.del_flag = 0 ORDER BY a.orders
    </select>

    <select id="findByPage" resultType="com.kingthy.entity.BaseData" parameterType="com.kingthy.entity.BaseData">
        SELECT create_date createDate,modify_date modifyDate,version,orders,grade,uuid,parent_id parentId,
        class_name className,type,status,description,creator,modifier
        FROM
        base_data
        WHERE del_flag is FALSE
        <if test=" type != null ">
            AND type = #{type}
        </if>
        <if test=" parentId !=null and parentId !='' ">
            AND parent_id = #{parentId}
        </if>
        <if test=" grade !=null ">
            AND grade = #{grade}
        </if>
        ORDER BY create_date DESC
    </select>

    <select id="findByPage_COUNT" resultType="Long">
        SELECT COUNT(uuid)
        FROM
        base_data
        WHERE del_flag is FALSE
        <if test=" type != null ">
            AND type = #{type}
        </if>
        <if test=" parentId !=null and parentId !='' ">
            AND parent_id = #{parentId}
        </if>
        <if test=" grade !=null ">
            AND grade = #{grade}
        </if>
    </select>

    <select id="selectByUuid" parameterType="java.lang.String" resultType="com.kingthy.entity.BaseData">
        SELECT create_date createDate,modify_date modifyDate,version,orders,grade,uuid,parent_id parentId,
        class_name className,type,status,description,creator,modifier
        FROM
        base_data
        WHERE del_flag is FALSE
        AND uuid =#{uuid}
    </select>
</mapper>